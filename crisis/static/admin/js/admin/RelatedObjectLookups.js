function html_unescape(e){return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&#39;/g,"'"),e=e.replace(/&amp;/g,"&")}function id_to_windowname(e){return e=e.replace(/\./g,"__dot__"),e=e.replace(/\-/g,"__dash__")}function windowname_to_id(e){return e=e.replace(/__dot__/g,"."),e=e.replace(/__dash__/g,"-")}function showRelatedObjectLookupPopup(e){var t=e.id.replace(/^lookup_/,"");t=id_to_windowname(t);var n;n=e.href.search(/\?/)>=0?e.href+"&pop=1":e.href+"?pop=1";var r=window.open(n,t,"height=500,width=800,resizable=yes,scrollbars=yes");return r.focus(),!1}function dismissRelatedLookupPopup(e,t){var n=windowname_to_id(e.name),r=document.getElementById(n);-1!=r.className.indexOf("vManyToManyRawIdAdminField")&&r.value?r.value+=","+t:document.getElementById(n).value=t,e.close()}function showAddAnotherPopup(e){var t=e.id.replace(/^add_/,"");t=id_to_windowname(t),href=e.href,href+=-1==href.indexOf("?")?"?_popup=1":"&_popup=1";var n=window.open(href,t,"height=500,width=800,resizable=yes,scrollbars=yes");return n.focus(),!1}function dismissAddAnotherPopup(e,t,n){t=html_unescape(t),n=html_unescape(n);var r=windowname_to_id(e.name),a=document.getElementById(r);if(a){var o=a.nodeName.toUpperCase();if("SELECT"==o){var l=new Option(n,t);a.options[a.options.length]=l,l.selected=!0}else"INPUT"==o&&(-1!=a.className.indexOf("vManyToManyRawIdAdminField")&&a.value?a.value+=","+t:a.value=t)}else{var i=r+"_to";a=document.getElementById(i);var l=new Option(n,t);SelectBox.add_to_cache(i,l),SelectBox.redisplay(i)}e.close()}