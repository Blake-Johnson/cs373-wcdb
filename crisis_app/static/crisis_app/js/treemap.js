function init_splash(){var t=new $jit.TM.Squarified({injectInto:"chart",titleHeight:42,animate:animate,offset:0,width:window.innerWidth,height:700,Events:{enable:!0,onClick:function(e){t.leaf(e)&&(inLeaf=!0,tooltip&&$(".tip").css("visibility","hidden")),e&&t.enter(e)},onRightClick:function(){tooltip&&$(".tip").css("visibility","visible"),inLeaf=!1,t.out()}},duration:300,Tips:{enable:!0,offsetX:15,offsetY:20,onShow:function(t,e){var i='<h4 class="inline">'+e.id+"</h4>";e.data.popularity&&(i+="<div>Popularity: "+e.data.popularity+"</div>"),t.innerHTML=i}},onCreateLabel:function(e,i){var n=e.style;if(n.fontSize="1em",t.leaf(i)){var a='<div class="content">';a+='<img class="pull-right" src="'+i.data.image+'" />',a+="<h3>"+i.id+"</h3>",a+='<p class="text-white">'+i.data.description+"</p>",a+="</div>",e.innerHTML=a,$(e).addClass("content-node"),$(e).perfectScrollbar({wheelSpeed:20,wheelPropagation:!0})}else{var a='<div class="title">';a+='<h2 class="inline">'+i.id+"</h2>",a+="</div>",e.innerHTML=a,n.fontWeight="bold"}}});t.loadJSON(json),t.refresh();var e=$jit.id("btnPop"),i=$jit.id("btnEqual"),n=$jit.id("btnBack"),a=$jit.id("btnTipOn"),r=$jit.id("btnTipOff"),s=!0;$jit.util.addEvent(e,"click",function(){s||(t.graph.eachNode(function(t){t.data.popularity&&(t.data.$area=t.data.popularity)}),t.refresh(),s=!0)}),$jit.util.addEvent(i,"click",function(){s&&(t.graph.eachNode(function(t){t.data.$area=1}),t.refresh(),s=!1)}),$jit.util.addEvent(a,"click",function(){inLeaf||$(".tip").css("visibility","visible"),tooltip=!0}),$jit.util.addEvent(r,"click",function(){$(".tip").css("visibility","hidden"),tooltip=!1}),$jit.util.addEvent(n,"click",function(){t.out()})}var labelType,useGradients,nativeTextSupport,animate,tooltip=!0,inLeaf=!1;!function(){var t=navigator.userAgent,e=t.match(/iPhone/i)||t.match(/iPad/i),i=typeof HTMLCanvasElement,n="object"==i||"function"==i,a=n&&"function"==typeof document.createElement("canvas").getContext("2d").fillText;labelType=!n||a&&!e?"Native":"HTML",nativeTextSupport="Native"==labelType,useGradients=n,animate=!(e||!n)}();