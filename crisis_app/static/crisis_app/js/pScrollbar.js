/* perfect-scrollbar Copyright (c) 2012 Zeno Zeng (http://github.com/zenozeng)
 * Licensed under the MIT License
 */
 
/* jQuery Mousewheel */
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
 !function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),o=0,s=0,a=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta/120),i.detail&&(o=-i.detail/3),a=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,s=-1*o),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),n.unshift(e,o,s,a),(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t){var e={wheelSpeed:10,wheelPropagation:!1};t.fn.perfectScrollbar=function(i,n){return this.each(function(){var o=t.extend(!0,{},e);if("object"==typeof i?t.extend(!0,o,i):n=i,"update"===n)return t(this).data("perfect-scrollbar-update")&&t(this).data("perfect-scrollbar-update")(),t(this);if("destroy"===n)return t(this).data("perfect-scrollbar-destroy")&&t(this).data("perfect-scrollbar-destroy")(),t(this);if(t(this).data("perfect-scrollbar"))return t(this).data("perfect-scrollbar");var s,a,r,l,h,c,f,d,u=t(this).addClass("ps-container"),p=t("<div class='ps-scrollbar-x'></div>").appendTo(u),v=t("<div class='ps-scrollbar-y'></div>").appendTo(u),m=parseInt(p.css("bottom"),10),g=parseInt(v.css("right"),10),y=function(){var t=parseInt(d*l/a,10);u.scrollTop(t),p.css({bottom:m-t})},w=function(){var t=parseInt(c*r/s,10);u.scrollLeft(t),v.css({right:g-t})},$=function(){p.css({left:c+u.scrollLeft(),bottom:m-u.scrollTop(),width:h}),v.css({top:d+u.scrollTop(),right:g-u.scrollLeft(),height:f})},b=function(){s=u.width(),a=u.height(),r=u.prop("scrollWidth"),l=u.prop("scrollHeight"),r>s?(h=parseInt(s*s/r,10),c=parseInt(u.scrollLeft()*s/r,10)):(h=0,c=0,u.scrollLeft(0)),l>a?(f=parseInt(a*a/l,10),d=parseInt(u.scrollTop()*a/l,10)):(f=0,d=0,u.scrollTop(0)),d>=a-f&&(d=a-f),c>=s-h&&(c=s-h),$()},C=function(t,e){var i=t+e,n=s-h;c=0>i?0:i>n?n:i,p.css({left:c+u.scrollLeft()})},x=function(t,e){var i=t+e,n=a-f;d=0>i?0:i>n?n:i,v.css({top:d+u.scrollTop()})},k=function(){var e,i;p.bind("mousedown.perfect-scroll",function(t){i=t.pageX,e=p.position().left,p.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove.perfect-scroll",function(t){p.hasClass("in-scrolling")&&(w(),C(e,t.pageX-i),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup.perfect-scroll",function(){p.hasClass("in-scrolling")&&p.removeClass("in-scrolling")})},T=function(){var e,i;v.bind("mousedown.perfect-scroll",function(t){i=t.pageY,e=v.position().top,v.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove.perfect-scroll",function(t){v.hasClass("in-scrolling")&&(y(),x(e,t.pageY-i),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup.perfect-scroll",function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")})},P=function(){var t=function(t,e){var i=u.scrollTop();if(0===i&&e>0&&0===t)return!o.wheelPropagation;if(i>=l-a&&0>e&&0===t)return!o.wheelPropagation;var n=u.scrollLeft();return 0===n&&0>t&&0===e?!o.wheelPropagation:n>=r-s&&t>0&&0===e?!o.wheelPropagation:!0};u.bind("mousewheel.perfect-scroll",function(e,i,n,s){u.scrollTop(u.scrollTop()-s*o.wheelSpeed),u.scrollLeft(u.scrollLeft()+n*o.wheelSpeed),b(),t(n,s)&&e.preventDefault()})},D=function(){var e=function(t,e){u.scrollTop(u.scrollTop()-e),u.scrollLeft(u.scrollLeft()-t),b()},i={},n=0,o={},s=null,a=!1;t(window).bind("touchstart.perfect-scroll",function(){a=!0}),t(window).bind("touchend.perfect-scroll",function(){a=!1}),u.bind("touchstart.perfect-scroll",function(t){var e=t.originalEvent.targetTouches[0];i.pageX=e.pageX,i.pageY=e.pageY,n=(new Date).getTime(),null!==s&&clearInterval(s),t.stopPropagation()}),u.bind("touchmove.perfect-scroll",function(t){if(!a&&1===t.originalEvent.targetTouches.length){var s=t.originalEvent.targetTouches[0],r={};r.pageX=s.pageX,r.pageY=s.pageY;var l=r.pageX-i.pageX,h=r.pageY-i.pageY;e(l,h),i=r;var c=(new Date).getTime();o.x=l/(c-n),o.y=h/(c-n),n=c,t.preventDefault()}}),u.bind("touchend.perfect-scroll",function(){s=setInterval(function(){return Math.abs(o.x)<.01&&Math.abs(o.y)<.01?(clearInterval(s),void 0):(e(30*o.x,30*o.y),o.x*=.8,o.y*=.8,void 0)},10)})},j=function(){p.remove(),v.remove(),u.unbind(".perfect-scroll"),t(window).unbind(".perfect-scroll"),u.data("perfect-scrollbar",null),u.data("perfect-scrollbar-update",null),u.data("perfect-scrollbar-destroy",null)},E=function(e){u.addClass("ie").addClass("ie"+e);var i=function(){var e=function(){t(this).addClass("hover")},i=function(){t(this).removeClass("hover")};u.bind("mouseenter.perfect-scroll",e).bind("mouseleave.perfect-scroll",i),p.bind("mouseenter.perfect-scroll",e).bind("mouseleave.perfect-scroll",i),v.bind("mouseenter.perfect-scroll",e).bind("mouseleave.perfect-scroll",i)},n=function(){$=function(){p.css({left:c+u.scrollLeft(),bottom:m,width:h}),v.css({top:d+u.scrollTop(),right:g,height:f}),p.hide().show(),v.hide().show()},y=function(){var t=parseInt(d*l/a,10);u.scrollTop(t),p.css({bottom:m}),p.hide().show()},w=function(){var t=parseInt(c*r/s,10);u.scrollLeft(t),v.hide().show()}};6===e&&(i(),n())},L=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),S=function(){var t=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);t&&"msie"===t[1]&&E(parseInt(t[2],10)),b(),k(),T(),L&&D(),u.mousewheel&&P(),u.data("perfect-scrollbar",u),u.data("perfect-scrollbar-update",b),u.data("perfect-scrollbar-destroy",j)};return S(),u})}}(jQuery);